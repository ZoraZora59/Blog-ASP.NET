@model NewBeeBlog.ViewModels.UpdateText

@{
    Layout = null;
}
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <link href="~/kindeditor/themes/default/default.css" rel="stylesheet" />
    <script src="~/kindeditor/kindeditor-all.js"></script>
    <script src="~/kindeditor/lang/zh-CN.js"></script>
    <script>
        var editor;
        KindEditor.ready(function (K) {
            editor = K.create('textarea[name="Text"]', {
                allowFileManager: true,
                uploadJson: '/manage/upload'
            });
            K('input[name=getHtml]').click(function (e) {
                alert(editor.html());
            });
            K('input[name=isEmpty]').click(function (e) {
                alert(editor.isEmpty());
            });
            K('input[name=getText]').click(function (e) {
                alert(editor.text());
            });
            K('input[name=selectedHtml]').click(function (e) {
                alert(editor.selectedHtml());
            });
            K('input[name=setHtml]').click(function (e) {
                editor.html('<h3>Hello KindEditor</h3>');
            });
            K('input[name=setText]').click(function (e) {
                editor.text('<h3>Hello KindEditor</h3>');
            });
            K('input[name=insertHtml]').click(function (e) {
                editor.insertHtml('<strong>插入HTML</strong>');
            });
            K('input[name=appendHtml]').click(function (e) {
                editor.appendHtml('<strong>添加HTML</strong>');
            });
            K('input[name=clear]').click(function (e) {
                editor.html('');
            });
        });
    </script>
</head>



<body>
    <div>
        @using (Html.BeginForm("Update", "Manage", FormMethod.Post))
        {
            <table>
                <tr>
                    <td>名称：</td>
                    <td>
                        @Html.TextBoxFor(m => m.Title)
                    </td>
                    <td>
                        @Html.ValidationMessageFor(m => m.Title)
                    </td>
                </tr>
                <tr>
                    <td>内容：</td>
                    <td>
                        <textarea name="Text" style="width:800px;height:800px;visibility:hidden;">KindEditor</textarea>
                    </td>
                    <td>
                        @Html.ValidationMessageFor(m => m.Text)
                    </td>
                </tr>
                <tr>
                    <td>分类：</td>
                    <td>
                        @Html.TextBoxFor(m => m.Category)
                    </td>
                    <td>
                        @Html.ValidationMessageFor(m => m.Category)
                    </td>
                </tr>
                <tr>
                    <td></td>
                    <td><input type="submit" value="确定" /></td>
                </tr>
            </table>
        }
    </div>
    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>
</body>
